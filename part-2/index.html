<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
<title>Basi di Linux, secondo modulo</title>
<meta name="description" content="Corso Linux Base @SCM Group">
<meta name="author" content="Danilo Pianini">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><link rel="stylesheet" href="/course-scm-linux-base/reveal-js/dist/reset.css">
<link rel="stylesheet" href="/course-scm-linux-base/reveal-js/dist/reveal.css">
  <link rel="stylesheet" href="/course-scm-linux-base/css/custom-theme.min.d0c73354507a71d553f28c3acecfefdbe9ba70bffe870842dc89372ec0f612fd.css" id="theme"><link rel="stylesheet" href="/course-scm-linux-base/highlight-js/solarized-dark.min.css">
<link rel="stylesheet" href="https://gitcdn.link/repo/DanySK/css-blur-animation/master/blur.css">
<link href="https://fonts.googleapis.com/css?family=Roboto Mono" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Oxygen Mono" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Ubuntu Mono" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
<script src="https://kit.fontawesome.com/81ac037be0.js" crossorigin="anonymous"></script>
<script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>

  </head>
  <body>
    
    <div class="reveal">
      <div class="slides">
  

    <section><h1 id="basi-di-linux-secondo-modulo">BASI DI LINUX, SECONDO MODULO</h1>
<h2 id="martina-baiardimailtombaiardiuniboit"><a href="mailto:m.baiardi@unibo.it">Martina Baiardi</a></h2>
<h3 id="compiled-2024-09-10">Compiled 2024-09-10</h3>
</section><section>
<h1 id="macro-argomenti">Macro argomenti</h1>
<h2 id="1-gestione-periferiche">1. Gestione periferiche</h2>
<h2 id="2-strumenti-di-analisi-e-gestione-dei-processi">2. Strumenti di analisi e gestione dei processi</h2>
<h2 id="3-networking">3. Networking</h2>
</section><section>
<h2 id="1-gestione-periferiche-1">1. Gestione periferiche</h2>
</section><section>
<div class="multiCol">
<div class="col text-center">
<p><img src="../images/pci-bus.svg" alt="../images/pci-bus.svg"></p>
</div>
<div class="col">
<h3 id="connessione-delle-periferiche">Connessione delle periferiche</h3>
<ul>
<li>Tutte le periferiche sono connesse tramite un bus standard <em>PCI</em> (<em>Peripheral Component Interconnect</em>)</li>
<li>Alcune di esse comunicano direttamente con il bus, altre tramite i <em>controller</em></li>
<li>I controller regolano I/O con i dispositivi, alcuni sono direttamente integrati nella periferica (es. dischi),
altri invece consentono di utilizzare protocolli standard per connettersi a periferiche esterne (es. controller USB)</li>
</ul>
<p><strong>Ogni pc ha una diversa configurazione delle periferiche, l’immagine è solamente un esempio semplificato di una configurazione.</strong></p>
</div>
</div>
</section><section>
<h3 id="analisi-delle-periferiche-connesse-al-bus-pci">Analisi delle periferiche connesse al bus PCI</h3>
<h3 id="lspci"><code>lspci</code></h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#8f5902">$</span> lspci
</span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:00.0 Host bridge: Intel Corporation Coffee Lake HOST and DRAM Controller (rev 0b)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:02.0 VGA compatible controller: Intel Corporation WhiskeyLake-U GT2 [UHD Graphics 620]
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:04.0 Signal processing controller: Intel Corporation Xeon E3-1200 v5/E3-1500 v5/6th Gen Core Processor Thermal Subsystem (rev 0b)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:08.0 System peripheral: Intel Corporation Xeon E3-1200 v5/v6 / E3-1500 v5 / 6th/7th/8th Gen Core Processor Gaussian Mixture Model
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:12.0 Signal processing controller: Intel Corporation Cannon Point-LP Thermal Controller (rev 30)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:14.0 USB controller: Intel Corporation Cannon Point-LP USB 3.1 xHCI Controller (rev 30)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:14.2 RAM memory: Intel Corporation Cannon Point-LP Shared SRAM (rev 30)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:14.3 Network controller: Intel Corporation Cannon Point-LP CNVi [Wireless-AC] (rev 30)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:15.0 Serial bus controller: Intel Corporation Cannon Point-LP Serial IO I2C Controller #0 (rev 30)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:15.1 Serial bus controller: Intel Corporation Cannon Point-LP Serial IO I2C Controller #1 (rev 30)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:16.0 Communication controller: Intel Corporation Cannon Point-LP MEI Controller #1 (rev 30)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:1c.0 PCI bridge: Intel Corporation Cannon Point-LP PCI Express Root Port #1 (rev f0)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:1c.4 PCI bridge: Intel Corporation Cannon Point-LP PCI Express Root Port #5 (rev f0)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:1d.0 PCI bridge: Intel Corporation Cannon Point-LP PCI Express Root Port #9 (rev f0)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:1d.4 PCI bridge: Intel Corporation Cannon Point-LP PCI Express Root Port #13 (rev f0)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:1e.0 Communication controller: Intel Corporation Cannon Point-LP Serial IO UART Controller #2 (rev 30)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:1e.2 Serial bus controller: Intel Corporation Cannon Point-LP Serial IO SPI Controller (rev 30)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:1f.0 ISA bridge: Intel Corporation Cannon Point-LP LPC Controller (rev 30)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:1f.3 Audio device: Intel Corporation Cannon Point-LP High Definition Audio Controller (rev 30)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:1f.4 SMBus: Intel Corporation Cannon Point-LP SMBus Controller (rev 30)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">00:1f.5 Serial bus controller: Intel Corporation Cannon Point-LP SPI Controller (rev 30)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">02:00.0 3D controller: NVIDIA Corporation GP108M [GeForce MX150] (rev a1)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">04:00.0 Non-Volatile memory controller: Sandisk Corp WD Blue SN500 / PC SN520 x2 M.2 2280 NVMe SSD (rev 01)
</span></span></span></code></pre></div><h3 id="lspci--tv"><code>lspci -tv</code></h3>
<p>Con l’aggiunta dei flag <code>-t</code> (visione ad albero) e <code>-v</code> (mostra tutte le informazioni) è possibile avere una visione gerarchica dei dispositivi connessi al bus PCI</p>
</section><section>
<h4 id="perchè-alcune-periferiche-sono-assenti-da-questa-lista">Perchè alcune periferiche sono assenti da questa lista?</h4>
<p>Perchè significa che tali dispositivi non sono direttamente connessi al bus, ma passano per un controller.
Ad esempio, tutti i miei dispositivi USB sono connessi al <em>controller USB</em>, che a sua volta è connesso al bus pci, il quale infatti è presente nella lista sopra.</p>
<h3 id="lsusb"><code>lsusb</code></h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#8f5902">$</span> lsusb
</span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">Bus 001 Device 002: ID 13d3:56cb IMC Networks USB2.0 HD IR UVC WebCam
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">Bus 001 Device 003: ID 8087:0aaa Intel Corp. Bluetooth 9460/9560 Jefferson Peak (JfP)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">Bus 001 Device 013: ID ffff:5678 USB Disk 2.0
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">Bus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">Bus 002 Device 003: ID 152d:0578 JMicron Technology Corp. / JMicron USA Technology Corp. JMS578 SATA 6Gb/s
</span></span></span></code></pre></div><h3 id="lsusb--tv"><code>lsusb -tv</code></h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#000;font-style:italic">/:  Bus 001.Port 001: Dev 001, Class=root_hub, Driver=xhci_hcd/12p, 480M
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">    ID 1d6b:0002 Linux Foundation 2.0 root hub
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">    |__ Port 002: Dev 036, If 0, Class=Mass Storage, Driver=usb-storage, 480M
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">        ID ffff:5678 USB Disk 2.0
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">    |__ Port 005: Dev 002, If 0, Class=Video, Driver=uvcvideo, 480M
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">        ID 13d3:56cb IMC Networks 
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">    |__ Port 005: Dev 002, If 1, Class=Video, Driver=uvcvideo, 480M
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">        ID 13d3:56cb IMC Networks 
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">    |__ Port 005: Dev 002, If 2, Class=Video, Driver=uvcvideo, 480M
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">        ID 13d3:56cb IMC Networks 
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">    |__ Port 005: Dev 002, If 3, Class=Video, Driver=uvcvideo, 480M
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">        ID 13d3:56cb IMC Networks 
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">    |__ Port 010: Dev 003, If 0, Class=Wireless, Driver=btusb, 12M
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">        ID 8087:0aaa Intel Corp. Bluetooth 9460/9560 Jefferson Peak (JfP)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">    |__ Port 010: Dev 003, If 1, Class=Wireless, Driver=btusb, 12M
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">        ID 8087:0aaa Intel Corp. Bluetooth 9460/9560 Jefferson Peak (JfP)
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">/:  Bus 002.Port 001: Dev 001, Class=root_hub, Driver=xhci_hcd/6p, 10000M
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">    ID 1d6b:0003 Linux Foundation 3.0 root hub
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">    |__ Port 001: Dev 005, If 0, Class=Mass Storage, Driver=uas, 5000M
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">        ID 152d:0578 JMicron Technology Corp. / JMicron USA Technology Corp. JMS578 SATA 6Gb/s
</span></span></span></code></pre></div></section><section>
<div class="multiCol">
<div class="col text-center">
<img src="../images/linux-device-drivers.svg" width="80%">
</div>
<div class="col">
<h3 id="driver">Driver</h3>
<p>I <em>driver</em> sono moduli software di basso livello che consentono al sistema operativo di pilotare un dispositivo hardware.
Un insieme di driver standard sono già previsti all’interno del sistema operativo, per dispositivi particolari potrebbe essere necessario installare driver aggiuntivi.</p>
<p>Il sistema operativo espone poi delle interfacce standard per interagire con i dispositivi in modo <strong>trasparente</strong> per l’applicazione utente.</p>
</div>
</div>
</section><section>
<div class="multiCol">
<div class="col text-center">
<img src="../images/linux-device-drivers.svg" width="80%">
</div>
<div class="col">
<h3 id="file-dispositivo">File dispositivo</h3>
<p>La filosofia <em>“everything is a file”</em> si applica anche per le periferiche connesse alla macchina,
infatti esistono dei file speciali nella cartella <em>/dev</em> che sono la rappresentazione nel file system dei dispositivi.</p>
<p>Essendo dei file, il loro contenuto può essere analizzato come se fossero come tutti gli altri (utilizzando comandi come <code>cat</code>, <code>ls</code>, …),
però essi rappresentano delle interfacce di basso livello che le applicazioni utente possono utilizzare per interagire con i dispositivi con operazioni di I/O.</p>
</div>
</div>
</section><section>
<div class="multiCol">
<div class="col text-center">
<h3 id="file-dispositivo-1">File dispositivo</h3>
<p>All’interno della cartella <em>/dev</em> risiedono due categorie di file:</p>
<ul>
<li><strong>Character special files (c)</strong>: I/O basato sullo scambio di singoli caratteri (di dimensione 1 byte). Fanno parte di questa categoria dispotivi come <em>mouse</em>, <em>tastiere</em> e <em>schede audio</em>.</li>
<li><strong>Block special files (b)</strong>: I/O basato sullo scambio di <em>blocchi</em> di dati. Fanno parte di questa categoria <em>usb</em> e <em>hard disk</em>.</li>
</ul>
</div>
<div class="col">
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#8f5902">$</span> ls -alh /dev
</span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">total 4,0K
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">drwxr-xr-x  21 root root            4,3K  5 set 12.54 .
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">drwxr-xr-x  18 root root            4,0K  4 set 15.30 ..
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">[...]
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">drwxr-xr-x   3 root root           60 21 ago 09.36 bus
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">drwxr-xr-x   2 root root         4,8K  5 set 17.26 char
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">[...]
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">drwxr-xr-x   4 root root          400  5 set 17.26 input
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">[...]
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">crw-rw-rw-   1 root root     1,     3  2 set 14.47 null
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">crw-------   1 root root   241,     0  2 set 14.47 nvme0
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">brw-rw----   1 root disk   259,     0  2 set 14.47 nvme0n1
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">brw-rw----   1 root disk   259,     1  2 set 14.47 nvme0n1p1
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">brw-rw----   1 root disk   259,     2  2 set 14.47 nvme0n1p2
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">brw-rw----   1 root disk   259,     3  2 set 14.47 nvme0n1p3
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">[...]
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">crw-rw-rw-   1 root root     1,     8  2 set 14.47 random
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">[...]
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">brw-rw----   1 root disk     8,     0  2 set 14.47 sda
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">brw-rw----   1 root disk     8,     1  2 set 14.47 sda1
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">brw-rw----   1 root disk     8,     2  2 set 14.47 sda2
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">[...]
</span></span></span></code></pre></div></div>
</div>
</section><section>
<h3 id="character-device">Character device</h3>
<p>Per comprendere meglio che cos’è un device che comunica tramite un <em>character special file</em>, consideriamo il mouse.</p>
<p>Tutti i file all’interno della directory <code>/dev/input</code> consentono la comunicazione con le periferiche di input del nostro sistema (ad esempio: tastiera, mouse, webcam, …).</p>
<p>All’interno della directory <code>/dev/input/by-path</code> è possibile esplorare i dispositivi in maniera “user-friendly”.</p>
<br>
<p><strong>Domanda</strong>: Cosa succede eseguendo il comando <code>cat /dev/input/mice</code>?</p>


<span class="fragment ">
  <p>Sto visualizzando i byte che il mio mouse invia al sistema operativo ad ogni movimento!</p>

</span>

</section><section>
<h3 id="devsda-z1-15">/dev/sd[a-z][1-15]</h3>
<p>Associati al file con prefisso <em>sd</em> (SCSI Disk) storicamente si potevano individuare tutti i dispositivi che utilizzavano SCSI (stampanti, scanner, hard disk, …), oggi il protocollo è in disuso, ma i sistemi Linux continuano a indirizzare hark disk (SCSI, IDE e SATA) e chiavette USB a questo percorso.</p>
<ul>
<li><code>/dev/sda</code> rappresenta il primo hard disk, <code>/dev/sbd</code> il secondo, e così via.</li>
</ul>
<p>In caso il dispositivo presenti delle <strong>partizioni</strong>, esse sono rappresentate con un numero posto accanto al nome del dispositivo.</p>
<ul>
<li><code>/dev/sda1</code> è la prima partizione, <code>/dev/sda2</code> la seconda, e così via.</li>
</ul>
</section><section>
<h3 id="devnvme0-nn1-np0-15">/dev/nvme[0-N]n[1-N]p[0-15]</h3>
<p>Viene associato a tutti i dispositivi che utilizzano <em>NVM Express</em> (<em>NVMe</em>) come tecnologia per accedere al dispositivo di memoria non-volatile.
Viene comunemente utilizzato per i <em>dischi a stato solido</em> (<em>SSD</em>).</p>
<p>All’interno della cartella <em>/dev</em> è possibile distinguere:</p>
<ul>
<li>Il character device <code>/dev/nvme0</code> che rappresenta il <strong>controller</strong> del primo disco. Esso regola la scrittura sul disco, consentendo l’esistenza dei <em>namespace</em>.</li>
<li>Il block device <code>/dev/nvme0n1</code> rappresenta il namespace 1 all’interno del primo disco NVMe.</li>
<li>Il block device <code>/dev/nvme0n1p[1-15]</code> rappresenta la partizione [1-15] all’interno del namespace 1 del primo disco NMVe.</li>
</ul>
</section><section>
<div class="multiCol">
<div class="col">
<h3 id="namespace-di-un-disco-nvme">Namespace di un disco NVMe</h3>
<p>I <em>namespace</em> di un disco NMVe sono una suddivisione logica dei dati, gestita direttamente dal <em>controller</em> del disco stesso. Ogni namespace consente di essere trattato come un “disco” separato, consentendo un accesso concorrente rispetto gli altri namespace. I namespace vengono impiegati in computer con esigenze particolari, comunemente nei pc desktop si utilizza il namespace di default, ovvero il numero 1. Più dettagli riguardo ai namespace sono riportati sul sito di NVMe: <a href="https://nvmexpress.org/resource/nvme-namespaces/">https://nvmexpress.org/resource/nvme-namespaces/</a>.</p>
<h3 id="partizioni-di-un-disco">Partizioni di un disco</h3>
<p>Una partizione del disco definisce delle aree separate di memoria che possono essere gestite separatamente dal sistema operativo, ad ognuna di essere può essere associato un tipo di file system differente.</p>
</div>
<div class="col text-center">
<img src="../images/nvme-namespaces.svg" width="80%">
</div>
</div>
</section><section>
<h3 id="pseudo-dispositivi">Pseudo-dispositivi</h3>
<p>Sono dispositivi che non possiedono un componente fisico collegato al pc, ma offrono funzionalità implementate direttamente a livello di sistema operativo.
Alcuni esempi:</p>
<ul>
<li><code>/dev/random</code>: Produce uno stream infinito di bytes con valori <em>pseudo-casuali</em>. Vengono utilizzati per scopi crittografici.</li>
</ul>
<blockquote>
<p>Un computer è una macchina che segue delle regole per svolgere le sue funzioni, di conseguenza, anche se in grado di produrre numeri che all’apparenza sembrano casuali, essi non sono totalmente impredicibili come eventi naturali (ad esempio, il rumore atmosferico), per questo motivo vengono definiti come pseudo-casuali.</p>
</blockquote>
<ul>
<li><code>/dev/null</code>: Accetta qualsiasi tipo di input e lo scarta, senza produrre nessun output. L’utilizzo più comune per questo comando è quello di ignorare degli stream in uscita prodotti da processi.
Un esempio:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#8f5902">$</span> cat /dev/random &gt; /dev/null
</span></span></code></pre></div><ul>
<li><code>/dev/zero</code>: Accetta qualsiasi tipo di input e lo scarta, producendo come output uno stream continuo di NULL (0 bytes). Utile per creare nuovi file contenenti unicamente dei byte a zero, con il fine di pre-allocare lo spazio sul disco.</li>
</ul>
</section><section>
<h3 id="cartella-devdisk">Cartella <code>/dev/disk</code></h3>
<p>Consente di esplorare tutte le unità di memoria connesse al computer in modalità “user-friendly”</p>
<h3 id="cartella-devbus">Cartella <code>/dev/bus</code></h3>
<p>Contiene tutti i controller (character devices) che gestiscono i dispositivi USB connessi al pc.</p>
</section><section>
<h2 id="ma-per-salvare-un-file-su-una-chiavetta-usb">Ma… per salvare un file su una chiavetta usb?</h2>
<div class="multiCol">
<div class="col text-center">


<span class="fragment ">
  <p><img src="../images/desperate-programmer.webp" alt="../images/desperate-programmer.webp"></p>

</span>

</div>
<div class="col">


<span class="fragment ">
  <p>Diversi strumenti aiutano sia l’esplorazione che l’utilizzo di dispositivi di memoria esterni:</p>
<ul>
<li><code>lsblk</code>: Informazioni sui dispositivi a blocchi connessi al pc.</li>
<li><code>fdisk</code>: Utility di sistema per gestire le partizioni dei dischi.</li>
<li><code>mount</code>: Utility per montare un file system ad un percorso.</li>
</ul>

</span>

</div>
</div>
</section><section>
<h3 id="lsblk"><code>lsblk</code></h3>
<p>Consente di consultare i dispositivi a blocchi presenti sul pc (fatta eccezione per la RAM), e informazioni importanti come il <strong>punto di mount</strong>, utilizzato per accedervi.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#8f5902">$</span> lsblk
</span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">NAME        MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">sda           8:0    1  29,3G  0 disk 
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">nvme0n1     259:0    0 476,9G  0 disk 
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">├─nvme0n1p1 259:1    0   300M  0 part /boot/efi
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">├─nvme0n1p2 259:2    0 459,7G  0 part /
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">└─nvme0n1p3 259:3    0    17G  0 part [SWAP]
</span></span></span></code></pre></div><p>Come mostra l’output del comando <code>lsblk</code> il disco in utilizzo sul pc presenta 3 partizioni, ciascuna delle quali ha un <em>punto di mount</em>.</p>
<p>Un <em>punto di mount</em> è una directory del file system che è logicamente connessa ad un altro file system, in questo esempio proveniente dal disco primario.</p>
</section><section>
<h3 id="fdisk"><code>fdisk</code></h3>
<p>Utility di sistema per gestire le partizioni di un disco, in questo ambito utile per investigare a quale file di sistema è stato associato il dispositivo USB connesso.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#8f5902">$</span> fdisk -l
</span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">Disk /dev/nvme0n1: 476,94 GiB, 512110190592 bytes, 1000215216 sectors
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">Disk model: WDC PC SN520 SDAPNUW-512G-1002          
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">Units: sectors of 1 * 512 = 512 bytes
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">Sector size (logical/physical): 512 bytes / 512 bytes
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">I/O size (minimum/optimal): 512 bytes / 512 bytes
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">Disklabel type: gpt
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">Disk identifier: BCA6CA00-08B6-6245-83F8-FC173D095FFA
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic"></span><span style="color:#a40000">
</span></span></span><span style="display:flex;"><span><span style="color:#a40000"></span><span style="color:#000;font-style:italic">Device             Start        End   Sectors   Size Type
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">/dev/nvme0n1p1      4096     618495    614400   300M EFI System
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">/dev/nvme0n1p2    618496  964576913 963958418 459,7G Linux filesystem
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">/dev/nvme0n1p3 964576914 1000206899  35629986    17G Linux swap
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic"></span><span style="color:#a40000">
</span></span></span><span style="display:flex;"><span><span style="color:#a40000">
</span></span></span><span style="display:flex;"><span><span style="color:#a40000"></span><span style="color:#000;font-style:italic">Disk /dev/sda: 29,3 GiB, 31457280000 bytes, 61440000 sectors
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">Disk model: ProductCode     
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">Units: sectors of 1 * 512 = 512 bytes
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">Sector size (logical/physical): 512 bytes / 512 bytes
</span></span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">I/O size (minimum/optimal): 512 bytes / 512 bytes
</span></span></span></code></pre></div><p>Altri utilizzi dell’utility <code>fdisk</code> non sono coperti da questo corso, ma possono essere approfonditi dal manuale utente: <a href="https://man7.org/linux/man-pages/man8/fdisk.8.html">https://man7.org/linux/man-pages/man8/fdisk.8.html</a></p>
</section><section>
<h3 id="mount"><code>mount</code></h3>
<p>Consente di montare un file system esterno su una cartella desiderata all’interno di un percorso del pc</p>
<p>Il file system esterno può provenire da un dispositivo rimovibile o da un percorso di rete, in questa lezione copriamo il primo caso.</p>
<p>Con il comando <code>fdisk -l</code> sono a conoscenza di qual è il percorso che mi consente di accedere al mio dispositivo USB (in questo caso <code>/dev/sda</code>),
mentre il comando <code>lsblk</code> mostra che il device <code>/dev/sda</code> al momento non possiede un mount point per accedervi.</p>
<p>Il processo è semplice:</p>
<ol>
<li>Creo una cartella che voglio utilizzare per accedere al file system del mio dispositivo usb</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#8f5902">$</span> mkdir <span style="color:#000">$HOME</span>/usb
</span></span></code></pre></div><ol start="2">
<li>Monto il dispositivo all’interno della cartella che ho appena creato</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#8f5902">$</span> mount /dev/sda <span style="color:#000">$HOME</span>/usb
</span></span></code></pre></div><ol start="3">
<li>Posso accedere ai dati in lettura e in scrittura</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#8f5902">$</span> ls -alh <span style="color:#000">$HOME</span>/usb
</span></span><span style="display:flex;"><span><span style="color:#000;font-style:italic">...
</span></span></span></code></pre></div><ol start="4">
<li>Per “scollegare” il dispositivo dal file system basta utilizzare il comando <code>umount</code></li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#8f5902">$</span> umount /dev/sda
</span></span><span style="display:flex;"><span><span style="color:#8f5902">$</span> ls -alh <span style="color:#000">$HOME</span>/usb
</span></span></code></pre></div></section><section>
<h2 id="2-strumenti-di-analisi-e-gestione-dei-processi-1">2. Strumenti di analisi e gestione dei processi</h2>
</section><section>
<h3 id="parte-2----martina-baiardi">Parte 2 – Martina Baiardi</h3>
<ul>
<li>Basic Linux Networking
<ul>
<li>LAN vs WAN</li>
<li>ISO OSI</li>
</ul>
</li>
<li>Layer 2
<ul>
<li>mac address</li>
<li>Loopback interface</li>
<li>Ethernet/Wi-Fi interfaces</li>
</ul>
</li>
<li>Layer 3
<ul>
<li>TCP/IPv4 addresses
<ul>
<li>format</li>
<li>netmasks</li>
</ul>
</li>
<li>DHCP</li>
<li>NAT</li>
<li>DNS</li>
<li>NTP</li>
<li>Network manager</li>
</ul>
</li>
<li>Network configuration
<ul>
<li>ip command</li>
<li>systemd/networkd</li>
<li>nmcli command</li>
<li>/etc/network/interfaces</li>
<li>ping command</li>
<li>traceroute</li>
<li>nslookup</li>
<li>netstat</li>
<li>configurazione rete tramite dhcp</li>
<li>configurazione rete WPA2/WPA3
<ul>
<li>wpa_cli command</li>
</ul>
</li>
</ul>
</li>
<li>Network tools
<ul>
<li>/etc/hosts</li>
<li>curl</li>
<li>wget</li>
</ul>
</li>
</ul>
<h2 id="strumenti-per-analisi-processi">Strumenti per analisi processi</h2>
<ul>
<li>Foreground and Background processes</li>
<li>Process states</li>
<li>load average</li>
<li>ps command</li>
<li>top/htop command</li>
<li>kill command</li>
</ul>
<h2 id="strumenti-per-analisi-risorse-di-sistema">Strumenti per analisi risorse di sistema</h2>
<h2 id="log-di-sistema">Log di sistema</h2>
<ul>
<li>log rotate e gestione dei log di systemctl (size, persistence time)</li>
<li>/var/log</li>
<li>journalctl</li>
</ul>
<p><a href="https://info-ee.surrey.ac.uk/Teaching/Unix/">https://info-ee.surrey.ac.uk/Teaching/Unix/</a></p>
</section>

  


</div>
      

    </div>
<script type="text/javascript" src="/course-scm-linux-base/reveal-hugo/object-assign.js"></script>

<a href="/course-scm-linux-base/reveal-js/dist/print/" id="print-location" style="display: none;"></a>

<script type="application/json" id="reveal-hugo-site-params">{"custom_theme":"custom-theme.scss","custom_theme_compile":true,"custom_theme_options":{"enablesourcemap":true,"targetpath":"css/custom-theme.css"},"height":"1080","highlight_theme":"solarized-dark","history":true,"mermaid":[{}],"slide_number":true,"theme":"league","transition":"slide","transition_speed":"fast","width":"1920"}</script>
<script type="application/json" id="reveal-hugo-page-params">{"custom_theme":"martina-theme.scss","custom_theme_compile":true}</script>

<script src="/course-scm-linux-base/reveal-js/dist/reveal.js"></script>


  
  
  <script type="text/javascript" src="/course-scm-linux-base/reveal-js/plugin/markdown/markdown.js"></script>
  
  <script type="text/javascript" src="/course-scm-linux-base/reveal-js/plugin/highlight/highlight.js"></script>
  
  <script type="text/javascript" src="/course-scm-linux-base/reveal-js/plugin/zoom/zoom.js"></script>
  
  <script type="text/javascript" src="/course-scm-linux-base/reveal-js/plugin/notes/notes.js"></script>
  
  
  <script type="text/javascript" src="/course-scm-linux-base/reveal-js/plugin/notes/notes.js"></script>




<script type="text/javascript">
  
  
  function camelize(map) {
    if (map) {
      Object.keys(map).forEach(function(k) {
        newK = k.replace(/(\_\w)/g, function(m) { return m[1].toUpperCase() });
        if (newK != k) {
          map[newK] = map[k];
          delete map[k];
        }
      });
    }
    return map;
  }

  var revealHugoDefaults = { center: true, controls: true, history: true, progress: true, transition: "slide" };

  var revealHugoPlugins = { 
    plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealZoom ]
   };
  var revealHugoSiteParams = JSON.parse(document.getElementById('reveal-hugo-site-params').innerHTML);
  var revealHugoPageParams = JSON.parse(document.getElementById('reveal-hugo-page-params').innerHTML);
  
  var options = Object.assign({},
    camelize(revealHugoDefaults),
    camelize(revealHugoSiteParams),
    camelize(revealHugoPageParams),
    camelize(revealHugoPlugins));
  Reveal.initialize(options);
</script>






  

  

  

  

  



    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
</script>

<script type="text/javascript" id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>

<script>
  if (/.*?(\?|&)print-pdf/.test(window.location.toString())) {
      var ytVideos = document.getElementsByTagName("iframe")
      for (let i = 0; i < ytVideos.length; i++) {
          var videoFrame = ytVideos[i]
          var isYouTube = /^https?:\/\/(www.)youtube\.com\/.*/.test(videoFrame.src)
          if (isYouTube) {
              console.log(`Removing ${videoFrame.src}`)
              var parent = videoFrame.parentElement
              videoFrame.remove()
              var p = document.createElement('p')
              p.append(
                  document.createTextNode(
                      "There was an embedded video here, but it is disabled in the printed version of the slides."
                  )
              )
              p.append(document.createElement('br'))
              p.append(
                  document.createTextNode(
                      `Visit instead ${
                          videoFrame.src
                      } or ${
                          videoFrame.src.replace(
                              /(^https?:\/\/(www.)youtube\.com)\/(embed\/)(\w+).*/,
                              "https://www.youtube.com/watch?v=$4"
                          )
                      }`
                  )
              )
              parent.appendChild(p)
          }
      }
  }
</script>


    
  

</body></html>